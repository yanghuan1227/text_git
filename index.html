<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

</body>
<script>
    // 1.使用while循环弹出输入框
    while (true) {
        // 2.弹出一个输入框 提示用户进行操作
        var msg = prompt("你好，我是传智小娜，你的语音助手~~~~~~~\n" +
            "输入《编号》或《关键词》选择功能，输入q退出聊天\n" +
            " 1.计算《总和》\n" +
            " 2.获取《时间》\n" +
            " 3.讲个《笑话》\n");
        // 3.判断如果输入的是q 就终止循环
        if (msg === 'q') {
            alert('你已经不爱小娜了吗？');
            break;
        }
        // 4.因为所有的判断都是固定值  所以使用switch-case 进行判断
        switch (msg) {
            case '1':
            case '总和':
                //4.1 继续弹出一个输入框 ，让用户输入以,分割的数字
                var numbers = prompt('请输入你要求和的数，以逗号隔开，例如:1,2,3,4');
                console.log(numbers);
                //4.2 使用js里面提供的方法实现把字符串根据一定的分隔符进行拆分
                var arr = numbers.split(',');  //告诉浏览器 把字符串numbers用逗号进行分隔
                console.log(arr);
                //4.3 因为arr是一个数组 所以直接遍历求和
                var sum = 0;
                for (i = 0; i < arr.length; i++) {
                    sum += parseInt(arr[i]);
                }
                //4.4 提示总和是多少
                alert('你要计算的总和出来了，是: ' + sum);
                break;
            case '2':
            case '时间':
                //5 求当前时间是多少 并以固定的格式输出
                // Date 可以获取当前的时间
                // 5.1 创建一个变量 这个变量可以记录当前的时间
                var date = new Date();
                // 5.2 分别获取年月日时分秒 
                var year = date.getFullYear();
                var mouth = date.getMonth() + 1;  //因为getMouth得到的是0-11的数字
                var day = date.getDate();
                var hour = date.getHours();
                var minute = date.getMinutes();
                var second = date.getSeconds();
                //5.3 如果月日时分秒是小于10的数 需把前面的0补全
                if (mouth < 10) {
                    '0' + mouth;
                }
                if (day < 10) {
                    '0' + day;
                }
                if (hour < 10) {
                    '0' + hour;
                }
                if (minute < 10) {
                    '0' + minute;
                }
                if (second < 10) {
                    '0' + second;
                }
                //5.4 需要以一个 yyyy-mm-dd  hh:ss:dd 的形式输出来 
                // console.log(year,mouth,day,hour,minute,second);
                var time = year + '-' + mouth + '-' + day + ' ' + hour + ':' + minute + ':' + second;
                alert('当前的时间是 ' + time);
                break;
            case '3':
            case '笑话':
                //6   准备一个笑话的数组，每次输入3或者是笑话的时候，进行随机索引，取出笑话弹出提示
                //6.1 准备一个笑话的数组
                var joke = ['kk是一只pig', 'kk 你真好看', 'kkkk', 'kk还是一只小仙女', 'pig小k'];
                //6.2 随机一个索引
                var r = Math.floor(Math.random() * joke.length);
                //6.3 直接输出笑话
                alert(joke[r]);
                break;
            //如果用户没有按要求输入，就是上述条件都不成立
            default:
                alert('你说的话小娜没有听懂，请重新输入');
                break;


        }

    }



</script>

</html>