<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

</body>
<script>
    //首先使用while循环弹出输入框
    while (true) {
        //弹出一个输入框  提示用户进行操作
        var three = prompt("你好，我是传智小娜，你的语音助手~~~~~~~\n" +
            "输入《编号》或《关键词》选择功能，输入q退出聊天\n" +
            " 1.计算《总和》\n" +
            " 2.获取《时间》\n" +
            " 3.讲个《笑话》\n");
        //如果输入q就是终止循环
        if (three === 'q') {
            alert('你已经不爱小娜了吗？');
            break;
        }
        //因为输入的值都是固定值  所以使用switch-case 的结构判断
        switch (three) {
            case '1':
            case '总和':
                //继续弹出一个输入框 让用户输入以，隔开的形式
                var numbers = prompt('请输入你要求和的数字，以逗号的形式隔开,例如1,2,3,4');
                console.log(numbers);
                //使用js里面的方法实现把字符串根据一定分隔符分开
                var arr = numbers.split(',');//告诉浏览器 把字符串numbers用逗号进行分离
                console.log(arr);
                //因为arr是一个数组 所以直接遍历求和
                var sum = 0;
                for (i = 0; i < arr.length; i++) {
                    sum += parseInt(arr[i]);
                }
                //提示总和是多少
                alert('你要计算的和出来了，是: ' + sum);
                break;
            case '2':
            case '时间':
                //求当前的时间是多少  并以固定的格式输出
                //Date 可以获取当前的时间
                //创建一个变量  来记录当前的时间
                var date = new Date();
                //分别获取年月日时分秒
                var year = date.getFullYear();
                var mouth = date.getMonth() + 1;  //因为getMouth得到的是0-11的数字
                var day = date.getDate();
                var hour = date.getHours();
                var minute = date.getMinutes();
                var second = date.getSeconds();
                //如果月日时分秒输出的数字只有一位数 则补全前面的0
                if (mouth < 10) {
                    '0' + mouth;
                }
                if (day < 10) {
                    '0' + day;
                }
                if (hour < 10) {
                    '0' + hour;
                }
                if (minute < 10) {
                    '0' + minute;
                }
                if (second < 10) {
                    '0' + second;
                }
                //需要以一个 yyyy-mm-dd  hh:ss:dd 的形式输出来 
                var time = year + '-' + mouth + '-' + day + ' ' + hour + ':' + minute + ':' + second;
                alert('当前的时间是' + time);
                break;
            case '3':
            case '笑话':
                // 准备一个笑话的数组，每次输入3或者是笑话的时候，进行随机索引，取出笑话弹出提示
                // 准备一个笑话的数组
                var joke = ['笑话1', '笑话2','笑话3', ' 笑话4'];
                // 随机一个索引  
                var r = Math.floor(Math.random() * joke.length);
                //输出一个笑话
                alert(joke[r]);
                break;
            //如果用户没有按要求输入，就是上述条件都不成立
            default:
                alert('你说的话小娜没有听懂，请重新输入');
                break;



        }



    }

</script>

</html>